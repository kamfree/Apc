<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Invoice #{{ order.id }}</title>
	<style>
		body { font-family: sans-serif; }
		h1 { font-size: 20px; }
		table { width: 100%; border-collapse: collapse; margin-top: 16px; }
		th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
		.right { text-align: right; }
	</style>
</head>
<body>
	<h1>Invoice #{{ order.id }}</h1>
	<p>Date: {{ order.created_at.strftime('%Y-%m-%d') if order.created_at else '' }}</p>
	<p>Customer ID: {{ order.user_id }}</p>
	<p>Shipping Method: {{ order.shipping_method.name if order.shipping_method else '' }}</p>

	<table>
		<thead>
			<tr>
				<th>Item</th>
				<th class="right">Qty</th>
				<th class="right">Unit Price</th>
				<th class="right">Total</th>
			</tr>
		</thead>
		<tbody>
		{% for item in order.items %}
			<tr>
				<td>{{ item.product.name if item.product else item.product_id }}</td>
				<td class="right">{{ item.quantity }}</td>
				<td class="right">{{ '%.2f'|format(item.unit_price) }}</td>
				<td class="right">{{ '%.2f'|format(item.total_price) }}</td>
			</tr>
		{% endfor %}
		</tbody>
		<tfoot>
			<tr>
				<th colspan="3" class="right">Total</th>
				<th class="right">{{ '%.2f'|format(order.total_amount) }}</th>
			</tr>
		</tfoot>
	</table>
</body>
</html>